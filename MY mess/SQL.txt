CREATE TABLE Members
(
  RollNo VARCHAR(20) NOT NULL,
  MemberName VARCHAR(25)  NOT NULL,
  Password VARCHAR(25) NOT NULL,
  Semester INT NOT NULL,
  PhoneNo INT NOT NULL,
  PRIMARY KEY (RollNo)
);

CREATE TABLE Mess
(
  MessID INT NOT NULL,
  MessPassword VARCHAR(20) NOT NULL,
  MessCoordinator VARCHAR(25) NOT NULL,
  MessName VARCHAR(10) NOT NULL,
  PerDayRate INT NOT NULL,
  PRIMARY KEY (MessID)
);

CREATE TABLE MessCut
(
  FromDate DATE NOT NULL,
  ToDate DATE NOT NULL,
  RollNo VARCHAR(20) NOT NULL,
  MessID INT NOT NULL,
  PRIMARY KEY (FromDate, RollNo, MessID),
  FOREIGN KEY (RollNo) REFERENCES Members(RollNo),
  FOREIGN KEY (MessID) REFERENCES Mess(MessID)
);

CREATE TABLE Rating
(
  RatingValue INT NOT NULL,
  RollNo VARCHAR(20) NOT NULL,
  MessID INT NOT NULL,
  PRIMARY KEY (RollNo, MessID),
  FOREIGN KEY (RollNo) REFERENCES Members(RollNo),
  FOREIGN KEY (MessID) REFERENCES Mess(MessID)
);

CREATE TABLE MessJoins
(
  StartDate DATE NOT NULL,
  RollNo VARCHAR(20) NOT NULL,
  MessID INT NOT NULL,
  PRIMARY KEY (StartDate, RollNo, MessID),
  FOREIGN KEY (RollNo) REFERENCES Members(RollNo),
  FOREIGN KEY (MessID) REFERENCES Mess(MessID)
);

CREATE TABLE Forum
(
  DateTime DATETIME NOT NULL,
  Comment VARCHAR(100) NOT NULL,
  RollNo VARCHAR(20) NOT NULL,
  MessID INT NOT NULL,
  PRIMARY KEY (DateTime, RollNo, MessID),
  FOREIGN KEY (RollNo) REFERENCES Members(RollNo),
  FOREIGN KEY (MessID) REFERENCES Mess(MessID)
);

CREATE TABLE Extras
(
  ExtrasID INT NOT NULL,
  ExtrasName VARCHAR(20) NOT NULL,
  Price INT NOT NULL,
  PRIMARY KEY (ExtrasID)
);

CREATE TABLE ExtrasTaken
(
  DateTime DATETIME NOT NULL,
  RollNo VARCHAR(20) NOT NULL,
  ExtrasID INT NOT NULL,
  PRIMARY KEY (DateTime, RollNo, ExtrasID),
  FOREIGN KEY (RollNo) REFERENCES Members(RollNo),
  FOREIGN KEY (ExtrasID) REFERENCES Extras(ExtrasID)
);
